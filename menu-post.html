<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>index'et</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>


<body>
    <header>
        <nav>
            <div>
                <p>Menu:</p>
                <ul>
                    <a href="index.html">
                        <li>forside</li>
                    </a>
                    <a href="menu-post.html">
                        <li>Menu</li>
                    </a>
                </ul>
            </div>
        </nav>
    </header>
    <main>
        <h1 class="overskrift">Cykler</h1>
        <section class="liste"></section>
    </main>
    <template>
        <article class="ret">
            <h2 class="title"></h2>
            <img src="" alt="" class="image">
            <div class="beskrivelse">
            </div>
            <p class="pris">Pris: DKK</p>


        </article>
    </template>
    <script>
        const url = "https://www.mostvalue.dk/Koga/wordpress/wp-json/wp/v2/Cykler";
        let cykler = [];
        document.addEventListener("DOMContentLoaded", start);

        function start() {
            hentJson();
        }

        async function hentJson() {
            const response = await fetch(url);
            cykler = await response.json();
            vis();
        }

        function vis() {

            const skabelon = document.querySelector("template");
            const liste = document.querySelector(".liste");

            cykler.forEach(cykel => {
                const klon = skabelon.cloneNode(true).content;
                klon.querySelector(".title").textContent = cykel.title.rendered;
                klon.querySelector(".beskrivelse").innerHTML = cykel.content.rendered;
                klon.querySelector("img").src = cykel.billede.guid;
                klon.querySelector("img").alt = "billede af" + cykel.billede.post_name;
                liste.appendChild(klon);
            });
        }
    </script>

</body></html>
